---- Creditos ----

CreditosTab = _G.Window:CreateTab("Creditos", nil)
CreditosTab:CreateSection("Creador")

local DiscordInvite = "https://discord.gg/ZTVC94ZmVZ"

CreditosTab:CreateButton({
    Name = "Joao_mods                                                             Desarrollador de Jmods Universal y Youtuber",
    Callback = function()
        setclipboard(DiscordInvite)
        _G.Rayfield:Notify({
            Title = "Discord!",
            Content = "Se copió el link de invitación, no olvides ver su canal",
            Duration = 5,
            Image = 13458017478,
            Callback = function() end
        })
    end,
})

-- Testers
CreditosTab:CreateSection("Testers")

CreditosTab:CreateParagraph({
    Title = "erjazzy",
    Content = "chupen pico"
})

CreditosTab:CreateParagraph({
    Title = "Andr3ssf",
    Content = "Top 1 de torreon coahuila"
})

CreditosTab:CreateParagraph({
    Title = "santiago64226",
    Content = "No asi esta bien"
})

-- Colaboradores
CreditosTab:CreateSection("Colaboradores")

CreditosTab:CreateParagraph({
    Title = "HolaCapo_94",
    Content = "Siganme en roblox xD"
})  

CreditosTab:CreateParagraph({
    Title = "El Cazador",
    Content = "jmods es el mejor xd"
})  

CreditosTab:CreateParagraph({
    Title = "Masha💀🔥",
    Content = "me comi al osoo"
})  

CreditosTab:CreateParagraph({
    Title = "TuTioPeruan0",
    Content = "xD"
})  














---info---
local Players = game:GetService("Players")
local MarketplaceService = game:GetService("MarketplaceService")
local LocalizationService = game:GetService("LocalizationService")

-- Obtener nombre del juego
local success, gameInfo = pcall(function()
    return MarketplaceService:GetProductInfo(game.PlaceId)
end)

local gameName = success and gameInfo.Name or "Desconocido"
local countryCode = "Cargando..."

-- Crear label con contenido inicial
local InfoLabel = CreditosTab:CreateLabel("Jugadores conectados: ...\nJuego: " .. gameName .. "\nRegión del servidor: " .. countryCode)

-- Obtener país estimado usando el primer jugador
task.spawn(function()
    local firstPlayer = Players:GetPlayers()[1]
    if firstPlayer then
        local success, result = pcall(function()
            return LocalizationService:GetCountryRegionForPlayerAsync(firstPlayer)
        end)
        if success and result then
            countryCode = result
        else
            countryCode = "Desconocida"
        end
    else
        countryCode = "Sin jugadores"
    end
    -- No actualizar inmediatamente aquí, lo haremos con el temporizador
end)

-- Función para actualizar el label
local function UpdateLabel()
    InfoLabel:Set("Jugadores conectados: " .. #Players:GetPlayers() .. "\nJuego: " .. gameName .. "\nRegión del servidor: " .. countryCode)
end

-- Actualizar solo cada segundo
local lastUpdate = tick()
task.spawn(function()
    while true do
        task.wait(1)  -- Esperar 1 segundo entre actualizaciones
        if tick() - lastUpdate >= 1 then
            UpdateLabel()
            lastUpdate = tick()
        end
    end
end)

-- Conectar eventos de jugadores
Players.PlayerAdded:Connect(function()
    lastUpdate = tick()  -- Fuerza una actualización inmediata cuando un jugador se une
end)
Players.PlayerRemoving:Connect(function()
    lastUpdate = tick()  -- Fuerza una actualización inmediata cuando un jugador se va
end)
